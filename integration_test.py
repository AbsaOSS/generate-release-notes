import urllib3
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

import os

from release_notes_generator.data.utils.bulk_sub_issue_collector import CollectorConfig, BulkSubIssueCollector

token = os.getenv("GITHUB_TOKEN")

# If you need to disable TLS verification (to mirror your example):
cfg = CollectorConfig(verify_tls=False)

collector = BulkSubIssueCollector(token, cfg=cfg)

# new_parents = [
#     "absa-group/AUL#2960",
# ]

new_parents = ['absa-group/AUL#3800', 'absa-group/AUL#3799', 'absa-group/AUL#3797', 'absa-group/AUL#3796', 'absa-group/AUL#3794', 'absa-group/AUL#3793', 'absa-group/AUL#3792', 'absa-group/AUL#3791', 'absa-group/AUL#3790', 'absa-group/AUL#3788', 'absa-group/AUL#3787', 'absa-group/AUL#3783', 'absa-group/AUL#3780', 'absa-group/AUL#3779', 'absa-group/AUL#3776', 'absa-group/AUL#3768', 'absa-group/AUL#3767', 'absa-group/AUL#3758', 'absa-group/AUL#3756', 'absa-group/AUL#3744', 'absa-group/AUL#3742', 'absa-group/AUL#3740', 'absa-group/AUL#3737', 'absa-group/AUL#3735', 'absa-group/AUL#3726', 'absa-group/AUL#3725', 'absa-group/AUL#3724', 'absa-group/AUL#3723', 'absa-group/AUL#3722', 'absa-group/AUL#3721', 'absa-group/AUL#3720', 'absa-group/AUL#3718', 'absa-group/AUL#3716', 'absa-group/AUL#3710', 'absa-group/AUL#3709', 'absa-group/AUL#3708', 'absa-group/AUL#3707', 'absa-group/AUL#3706', 'absa-group/AUL#3705', 'absa-group/AUL#3704', 'absa-group/AUL#3700', 'absa-group/AUL#3694', 'absa-group/AUL#3691', 'absa-group/AUL#3689', 'absa-group/AUL#3688', 'absa-group/AUL#3687', 'absa-group/AUL#3686', 'absa-group/AUL#3684', 'absa-group/AUL#3674', 'absa-group/AUL#3672', 'absa-group/AUL#3665', 'absa-group/AUL#3664', 'absa-group/AUL#3659', 'absa-group/AUL#3599', 'absa-group/AUL#3588', 'absa-group/AUL#3585', 'absa-group/AUL#3583', 'absa-group/AUL#3527', 'absa-group/AUL#3516', 'absa-group/AUL#3501', 'absa-group/AUL#3488', 'absa-group/AUL#3487', 'absa-group/AUL#3486', 'absa-group/AUL#3482', 'absa-group/AUL#3301', 'absa-group/AUL#3292', 'absa-group/AUL#3281', 'absa-group/AUL#3226', 'absa-group/AUL#3207', 'absa-group/AUL#3009', 'absa-group/AUL#2960', 'absa-group/AUL#2849', 'absa-group/AUL#2832', 'absa-group/AUL#2824', 'absa-group/AUL#2560', 'absa-group/AUL#2048', 'absa-group/AUL#3749', 'absa-group/AUL#3746', 'absa-group/AUL#3745', 'absa-group/AUL#3738', 'absa-group/AUL#3736', 'absa-group/AUL#3734', 'absa-group/AUL#3712', 'absa-group/AUL#3698', 'absa-group/AUL#3697', 'absa-group/AUL#3695', 'absa-group/AUL#3685', 'absa-group/AUL#3682', 'absa-group/AUL#3679', 'absa-group/AUL#3675', 'absa-group/AUL#3671', 'absa-group/AUL#3669', 'absa-group/AUL#3658', 'absa-group/AUL#3657', 'absa-group/AUL#3656', 'absa-group/AUL#3655', 'absa-group/AUL#3654', 'absa-group/AUL#3653', 'absa-group/AUL#3652', 'absa-group/AUL#3651', 'absa-group/AUL#3650', 'absa-group/AUL#3649', 'absa-group/AUL#3648', 'absa-group/AUL#3642', 'absa-group/AUL#3635', 'absa-group/AUL#3619', 'absa-group/AUL#3613', 'absa-group/AUL#3612', 'absa-group/AUL#3607', 'absa-group/AUL#3603', 'absa-group/AUL#3600', 'absa-group/AUL#3598', 'absa-group/AUL#3596', 'absa-group/AUL#3595', 'absa-group/AUL#3586', 'absa-group/AUL#3582', 'absa-group/AUL#3571', 'absa-group/AUL#3559', 'absa-group/AUL#3556', 'absa-group/AUL#3554', 'absa-group/AUL#3553', 'absa-group/AUL#3550', 'absa-group/AUL#3548', 'absa-group/AUL#3547', 'absa-group/AUL#3544', 'absa-group/AUL#3539', 'absa-group/AUL#3536', 'absa-group/AUL#3535', 'absa-group/AUL#3534', 'absa-group/AUL#3533', 'absa-group/AUL#3530', 'absa-group/AUL#3529', 'absa-group/AUL#3526', 'absa-group/AUL#3525', 'absa-group/AUL#3522', 'absa-group/AUL#3515', 'absa-group/AUL#3514', 'absa-group/AUL#3498', 'absa-group/AUL#3474', 'absa-group/AUL#3473', 'absa-group/AUL#3465', 'absa-group/AUL#3464', 'absa-group/AUL#3457', 'absa-group/AUL#3453', 'absa-group/AUL#3452', 'absa-group/AUL#3437', 'absa-group/AUL#3405', 'absa-group/AUL#3399', 'absa-group/AUL#3385', 'absa-group/AUL#3380', 'absa-group/AUL#3373', 'absa-group/AUL#3360', 'absa-group/AUL#3328', 'absa-group/AUL#3322', 'absa-group/AUL#3317', 'absa-group/AUL#3299', 'absa-group/AUL#3298', 'absa-group/AUL#3297', 'absa-group/AUL#3295', 'absa-group/AUL#3294', 'absa-group/AUL#3287', 'absa-group/AUL#3286', 'absa-group/AUL#3285', 'absa-group/AUL#3284', 'absa-group/AUL#3275', 'absa-group/AUL#3266', 'absa-group/AUL#3265', 'absa-group/AUL#3264', 'absa-group/AUL#3263', 'absa-group/AUL#3262', 'absa-group/AUL#3251', 'absa-group/AUL#3247', 'absa-group/AUL#3246', 'absa-group/AUL#3237', 'absa-group/AUL#3236', 'absa-group/AUL#3235', 'absa-group/AUL#3234', 'absa-group/AUL#3233', 'absa-group/AUL#3224', 'absa-group/AUL#3219', 'absa-group/AUL#3206', 'absa-group/AUL#3203', 'absa-group/AUL#3201', 'absa-group/AUL#3181', 'absa-group/AUL#3177', 'absa-group/AUL#3173', 'absa-group/AUL#3172', 'absa-group/AUL#3153', 'absa-group/AUL#3141', 'absa-group/AUL#3122', 'absa-group/AUL#3104', 'absa-group/AUL#3091', 'absa-group/AUL#3085', 'absa-group/AUL#3084', 'absa-group/AUL#3080', 'absa-group/AUL#3079', 'absa-group/AUL#3072', 'absa-group/AUL#3052', 'absa-group/AUL#3020', 'absa-group/AUL#3006', 'absa-group/AUL#3000', 'absa-group/AUL#2933', 'absa-group/AUL#2932', 'absa-group/AUL#2920', 'absa-group/AUL#2913', 'absa-group/AUL#2912', 'absa-group/AUL#2887', 'absa-group/AUL#2886', 'absa-group/AUL#2884', 'absa-group/AUL#2883', 'absa-group/AUL#2876', 'absa-group/AUL#2873', 'absa-group/AUL#2847', 'absa-group/AUL#2842', 'absa-group/AUL#2841', 'absa-group/AUL#2835', 'absa-group/AUL#2823', 'absa-group/AUL#2819', 'absa-group/AUL#2810', 'absa-group/AUL#2806', 'absa-group/AUL#2801', 'absa-group/AUL#2781', 'absa-group/AUL#2768', 'absa-group/AUL#2754', 'absa-group/AUL#2742', 'absa-group/AUL#2732', 'absa-group/AUL#2725', 'absa-group/AUL#2724', 'absa-group/AUL#2722', 'absa-group/AUL#2720', 'absa-group/AUL#2712', 'absa-group/AUL#2709', 'absa-group/AUL#2707', 'absa-group/AUL#2706', 'absa-group/AUL#2691', 'absa-group/AUL#2679', 'absa-group/AUL#2678', 'absa-group/AUL#2674', 'absa-group/AUL#2671', 'absa-group/AUL#2668', 'absa-group/AUL#2664', 'absa-group/AUL#2660', 'absa-group/AUL#2649', 'absa-group/AUL#2647', 'absa-group/AUL#2631', 'absa-group/AUL#2619', 'absa-group/AUL#2590', 'absa-group/AUL#2584', 'absa-group/AUL#2583', 'absa-group/AUL#2551', 'absa-group/AUL#2549', 'absa-group/AUL#2530', 'absa-group/AUL#2507', 'absa-group/AUL#2504', 'absa-group/AUL#2503', 'absa-group/AUL#2494', 'absa-group/AUL#2484', 'absa-group/AUL#2477', 'absa-group/AUL#2470', 'absa-group/AUL#2439', 'absa-group/AUL#2432', 'absa-group/AUL#2416', 'absa-group/AUL#2414', 'absa-group/AUL#2412', 'absa-group/AUL#2411', 'absa-group/AUL#2407', 'absa-group/AUL#2405', 'absa-group/AUL#2404', 'absa-group/AUL#2400', 'absa-group/AUL#2394', 'absa-group/AUL#2391', 'absa-group/AUL#2385', 'absa-group/AUL#2374', 'absa-group/AUL#2369', 'absa-group/AUL#2368', 'absa-group/AUL#2367', 'absa-group/AUL#2366', 'absa-group/AUL#2365', 'absa-group/AUL#2364', 'absa-group/AUL#2344', 'absa-group/AUL#2343', 'absa-group/AUL#2338', 'absa-group/AUL#2335', 'absa-group/AUL#2332', 'absa-group/AUL#2326', 'absa-group/AUL#2320', 'absa-group/AUL#2319', 'absa-group/AUL#2318', 'absa-group/AUL#2313', 'absa-group/AUL#2304', 'absa-group/AUL#2303', 'absa-group/AUL#2302', 'absa-group/AUL#2301', 'absa-group/AUL#2300', 'absa-group/AUL#2299', 'absa-group/AUL#2298', 'absa-group/AUL#2216', 'absa-group/AUL#2200', 'absa-group/AUL#2181', 'absa-group/AUL#2175', 'absa-group/AUL#2174', 'absa-group/AUL#2167', 'absa-group/AUL#2163', 'absa-group/AUL#2147', 'absa-group/AUL#2142', 'absa-group/AUL#2118', 'absa-group/AUL#2114', 'absa-group/AUL#2112', 'absa-group/AUL#2096', 'absa-group/AUL#2061', 'absa-group/AUL#2059', 'absa-group/AUL#1966', 'absa-group/AUL#1965', 'absa-group/AUL#1961', 'absa-group/AUL#1925', 'absa-group/AUL#1924', 'absa-group/AUL#1901', 'absa-group/AUL#1857', 'absa-group/AUL#1796', 'absa-group/AUL#1674', 'absa-group/AUL#1669', 'absa-group/AUL#1668', 'absa-group/AUL#1665', 'absa-group/AUL#1662', 'absa-group/AUL#1660', 'absa-group/AUL#1634', 'absa-group/AUL#1577', 'absa-group/AUL#1571', 'absa-group/AUL#1566', 'absa-group/AUL#1559', 'absa-group/AUL#1555', 'absa-group/AUL#1552', 'absa-group/AUL#1545', 'absa-group/AUL#1520', 'absa-group/AUL#1517', 'absa-group/AUL#1516', 'absa-group/AUL#1507', 'absa-group/AUL#1506', 'absa-group/AUL#1505', 'absa-group/AUL#1504', 'absa-group/AUL#1502', 'absa-group/AUL#1501', 'absa-group/AUL#1497', 'absa-group/AUL#1496', 'absa-group/AUL#1485', 'absa-group/AUL#1483', 'absa-group/AUL#1433', 'absa-group/AUL#1416', 'absa-group/AUL#1407', 'absa-group/AUL#1406', 'absa-group/AUL#1360', 'absa-group/AUL#1356', 'absa-group/AUL#1353', 'absa-group/AUL#1351', 'absa-group/AUL#1347', 'absa-group/AUL#1343', 'absa-group/AUL#1333', 'absa-group/AUL#1331', 'absa-group/AUL#1322', 'absa-group/AUL#1319', 'absa-group/AUL#1298', 'absa-group/AUL#1249', 'absa-group/AUL#1188', 'absa-group/AUL#1024', 'absa-group/AUL#870', 'absa-group/AUL#621', 'absa-group/AUL#584', 'absa-group/AUL#478', 'absa-group/AUL#476', 'absa-group/AUL#413', 'absa-group/AUL#405', 'absa-group/AUL#137']

while new_parents:
    new_parents = collector.scan_sub_issues_for_parents(new_parents)
    print("New parents found:", new_parents)
    print("Collected sub-issues so far:", collector.parents_sub_issues)
